//{namespace name=backend/viison_ups_free_form_labels/main}
Ext.define("Shopware.apps.ViisonUPSFreeFormLabels.controller.Main",{ extend:"Shopware.apps.ViisonShippingCommonFreeFormLabels.controller.Main",dispatchServiceProviderPanelClass:"viison-ups-free-form-labels-window",productStoreClass:"Shopware.apps.ViisonUPSShipping.store.Product",labelConfirmPanelClass:"Shopware.apps.ViisonUPSFreeFormLabels.view.LabelConfirm",shippingLabelClass:"Shopware.apps.ViisonUPSOrder.model.ShippingLabel",dispatchServiceProviderLabelConfirmPanel:"order-viison-ups-label-confirm-panel",labelPanelSelector:"viison-ups-free-form-labels-window",sendMailURL:'{url controller="ViisonUPSOrder" action="sendMail"}',downloadDocumentsURL:'{url controller="ViisonUPSOrder" action="downloadDocuments"}',listDispatchActionsControllerClass:"Shopware.apps.ViisonUPSOrder.controller.ListDispatchActions",customSnippets:{ notifications:{ growlMessage:'{s name=main/notifications/growlMessage}{/s}'}},onShowLabelConfirmWindow:function(i,e,l){ this.callParent(arguments);this.updatePackagingType()},updatePackagingType:function(){ var i=this;Ext.Ajax.request({ url:'{url controller="ViisonUPSOrder" action="getDefaultPackagingType"}',params:{ orderId:null},success:function(e){ var l=Ext.JSON.decode(e.responseText);if(i.getLabelConfirmWindow()&&i.getLabelConfirmWindow().dataPanel){ i.getLabelConfirmPanel().defaultPackagingType=l.defaultPackagingType;i.getLabelConfirmWindow().dataPanel.setValues()}}})}});
