//{namespace name="backend/viison_shipping_common_order/order"}
Ext.define("Shopware.apps.ViisonShippingCommonOrder.view.list.Label",{ extend:"Ext.grid.Panel",alias:"widget.order-viison-shipping-common-label-list",cls:Ext.baseCSSPrefix+"viison-shipping-common-label-grid",autoScroll:true,snippets:{ columns:{ trackingCode:'{s name=label/columns/tracking_code}{/s}',url:'{s name=label/columns/url}{/s}',exportDocumentUrl:'{s name=label/columns/export_document_url}{/s}',customerAddress:'{s name=label/columns/customer_address}{/s}',type:'{s name=label/columns/type}{/s}',created:'{s name=label/columns/created}{/s}',trackLabel:'{s name=label/columns/track_label}{/s}',deleteLabel:'{s name=label/columns/delete_label}{/s}'},rows:{ labelUrlTitle:'{s name=label/rows/label_url_title}{/s}',exportDocumentUrlTitle:'{s name=label/rows/export_document_url_title}{/s}',noExportDocumentUrlTitle:'{s name=label/rows/no_export_document_url_title}{/s}',isShippingLabel:'{s name=label/rows/is_shipping_label}{/s}',isReturnLabel:'{s name=label/rows/is_return_label}{/s}'}},initComponent:function(){ this.columns=this.getColumns();this.dockedItems=[Ext.create("Ext.toolbar.Paging",{ xtype:"pagingtoolbar",store:this.store,dock:"bottom",displayInfo:true})];this.callParent(arguments)},getColumns:function(){ var e=this;var i=[{ header:e.snippets.columns.trackingCode,dataIndex:"trackingCode",flex:7,renderer:e.trackingCodeRenderer},{ header:e.snippets.columns.url,dataIndex:"url",flex:10,renderer:e.urlRenderer},{ header:e.snippets.columns.exportDocumentUrl,dataIndex:"exportDocumentUrl",flex:10,renderer:e.exportDocumentUrlRenderer}];if(e.showCustomerAddress){ i.push({ header:e.snippets.columns.customerAddress,dataIndex:"customerAddress",flex:10,renderer:e.customerAddressRenderer})}i=i.concat([{ header:e.snippets.columns.type,dataIndex:"returnShipment",flex:5,renderer:e.typeRenderer},{ header:e.snippets.columns.created,dataIndex:"created",flex:6,renderer:e.createdRenderer},e.createActionColumn()]);return i},createActionColumn:function(){ var e=this;return Ext.create("Ext.grid.column.Action",{ width:60,items:[e.createTrackLabelColumn(),e.createDeleteLabelColumn()]})},createTrackLabelColumn:function(){ var e=this;return{ iconCls:"c-sprite-box-search-result",action:"trackShippingLabel",tooltip:e.snippets.columns.trackLabel,handler:function(i,t){ e.fireEvent("trackShippingLabel",i.getStore().getAt(t))}}},createDeleteLabelColumn:function(){ var e=this;return{ iconCls:"sprite-minus-circle-frame",action:"destroyShippingLabel",tooltip:e.snippets.columns.deleteLabel,handler:function(i,t){ e.fireEvent("destroyShippingLabel",e.dispatchServiceProviderPanel,e.record,i.getStore().getAt(t),i.getStore(),false)}}},trackingCodeRenderer:function(e){ return e},urlRenderer:function(e){ return this.htmlLinkRenderer(e,this.snippets.rows.labelUrlTitle)},exportDocumentUrlRenderer:function(e){ if(!e||e.length===0){ return this.snippets.rows.noExportDocumentUrlTitle}return this.htmlLinkRenderer(e,this.snippets.rows.exportDocumentUrlTitle)},customerAddressRenderer:function(e){ return e},typeRenderer:function(e){ return e===true?this.snippets.rows.isReturnLabel:this.snippets.rows.isShippingLabel},createdRenderer:function(e){ if(e===Ext.undefined){ return e}return Ext.util.Format.date(e,"d.m.Y H:i:s")},htmlLinkRenderer:function(e,i){ var t={ tag:"a",html:i,href:e,target:"_blank"};var r=new Ext.dom.Helper;return r.markup(t)}});
