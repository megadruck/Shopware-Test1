//{namespace name=backend/viison_shipping_common_grid_label_printing/main}
Ext.define("Shopware.apps.ViisonShippingCommonGridLabelPrinting.view.TemplateChooser",{ commonSnippets:{ fields:{ startX:{ label:'{s name=template_chooser/fields/start_x/label}{/s}',help:'{s name=template_chooser/fields/start_x/help}{/s}'},startY:{ label:'{s name=template_chooser/fields/start_y/label}{/s}',help:'{s name=template_chooser/fields/start_y/help}{/s}'},template:{ label:'{s name=template_chooser/fields/template/label}{/s}'}}},createTemplateComponents:function(){ var e=this;e.templateStore=Ext.create(e.templateClass,{ });e.templateSelection=Ext.create("Ext.form.field.ComboBox",{ fieldLabel:e.commonSnippets.fields.template.label,name:"template",store:this.templateStore,queryMode:"local",displayField:"title",valueField:"name",width:340,listeners:{ select:function(i,l){ e.resetStartPositionFields(l[0])}}});e.startYField=Ext.create("Ext.form.field.Number",{ fieldLabel:e.commonSnippets.fields.startY.label,helpText:e.commonSnippets.fields.startY.help,name:"startY",value:1,minValue:1,maxValue:16,allowDecimals:false,anchor:"100%"});e.startXField=Ext.create("Ext.form.field.Number",{ fieldLabel:e.commonSnippets.fields.startX.label,helpText:e.commonSnippets.fields.startX.help,name:"startX",value:1,minValue:1,maxValue:5,allowDecimals:false,anchor:"100%"});e.templateStore.load({ callback:function(i,l,t){ for(var a=0;a<i.length;a++){ if(i[a].get("default")){ e.templateSelection.setValue(i[a].get("name"));e.resetStartPositionFields(i[a]);break}}}})},resetStartPositionFields:function(e){ var i=this;i.startYField.setMaxValue(e.get("numRows"));i.startXField.setMaxValue(e.get("numCols"));if(i.startYField.getValue()>e.get("numRows")||i.startXField.getValue()>e.get("numCols")){ i.startXField.setValue(1);i.startYField.setValue(1)}}});
