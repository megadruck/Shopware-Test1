//{namespace name="backend/viison_shipping_common_daily_closing/main"}
Ext.define("Shopware.apps.ViisonShippingCommonDailyClosing.view.main.Window",{ extend:"Enlight.app.Window",alias:"widget.viison_shipping_common_daily_closing-main_window",border:false,autoShow:true,width:450,height:350,layout:"border",snippets:{ formFields:{ shop:{ label:'{s name=window/form_fields/shop/label}{/s}',all:'{s name=window/form_fields/shop/all}{/s}'},fromDate:'{s name=window/form_fields/from_date}{/s}',toDate:'{s name=window/form_fields/to_date}{/s}'},buttons:{ cancel:'{s name=window/buttons/cancel}{/s}',showManifest:'{s name=window/buttons/show_manifest}{/s}'}},initComponent:function(){ this.title=this.customSnippets.title;this.items=[{ region:"north",xtype:"label",html:this.customSnippets.description,style:{ padding:"5px",whiteSpace:"normal"}},this.createDateForm()];if(this.pluginSupportsAllShops){ this.shopStore.insert(0,[{ name:this.snippets.formFields.shop.all,id:null}])}this.callParent(arguments)},createDateForm:function(){ var i=Ext.create("Ext.form.field.ComboBox",{ allowBlank:this.pluginSupportsAllShops,anchor:"75%",fieldLabel:this.snippets.formFields.shop.label,name:"shop",store:this.shopStore,queryMode:"local",displayField:"name",valueField:"id",margin:"10px"});if(this.pluginSupportsAllShops){ i.emptyText=this.snippets.formFields.shop.all}else{ i.setValue(this.shopStore.first()?this.shopStore.first().getId():null);i.required=false}this.dateForm=Ext.create("Ext.form.Panel",{ region:"center",cls:"shopware-form",layout:"anchor",border:false,items:[i,{ xtype:"datefield",anchor:"75%",fieldLabel:this.snippets.formFields.fromDate,name:"fromDate",value:new Date,maxValue:new Date,margin:"10px"},{ xtype:"datefield",anchor:"75%",fieldLabel:this.snippets.formFields.toDate,name:"toDate",value:new Date,maxValue:new Date,margin:"10px"}],dockedItems:[this.createToolbar()]});return this.dateForm},createToolbar:function(){ var i=this;return Ext.create("Ext.toolbar.Toolbar",{ dock:"bottom",ui:"shopware-ui",cls:"shopware-toolbar",items:[{ xtype:"tbfill"},{ text:this.snippets.buttons.cancel,cls:"secondary",action:"cancel"},{ text:this.snippets.buttons.showManifest,cls:"primary",action:"showManifest",handler:function(){ i.fireEvent("showManifest",i.dateForm.getForm())}}]})}});
