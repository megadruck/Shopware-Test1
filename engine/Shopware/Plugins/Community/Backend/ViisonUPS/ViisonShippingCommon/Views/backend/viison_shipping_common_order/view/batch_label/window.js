//{namespace name="backend/viison_shipping_common_order/order"}
Ext.define("Shopware.apps.ViisonShippingCommonOrder.view.BatchLabel.Window",{ extend:"Enlight.app.Window",alias:"widget.order-viison-shipping-common-batch-label-window",cls:Ext.baseCSSPrefix+"order-viison-shipping-common-batch-label-window",width:700,height:500,footerButton:false,minimizable:false,maximizable:false,draggable:false,stateId:"shopware-order-viison-shipping-common-batch-label-window",layout:{ align:"stretch",type:"vbox"},snippets:{ title:'{s name=batch_label/window/title}{/s}',newOrderStatus:{ label:'{s name=batch_label/window/new_order_status/label}{/s}',defaultValue:'{s name=batch_label/window/new_order_status/default_value}{/s}',helpText:'{s name=batch_label/window/new_order_status/help_text}{/s}'},statusListTitle:'{s name=batch_label/window/status_list_title}{/s}',buttons:{ confirmCreation:'{s name=batch_label/window/buttons/confirm_creation}{/s}',close:'{s name=batch_label/window/buttons/close}{/s}',showJoinedExportDocuments:'{s name=batch_label/window/buttons/show_joined_export_documents}{/s}',showJoinedLabels:'{s name=batch_label/window/buttons/show_joined_labels}{/s}'},loadMaskMessage:'{s name=batch_label/window/loadMask}{/s}'},initComponent:function(){ this.title=this.snippets.title;this.items=[this.createTopToolbar(),Ext.create("Ext.panel.Panel",{ title:this.snippets.statusListTitle,layout:{ type:"hbox",align:"stretch"},flex:1,margin:5,items:[this.createListPanel()]})];this.dockedItems=[this.createBottomToolbar()];this.loadMask=new Ext.LoadMask(this,{ msg:this.snippets.loadMaskMessage});this.callParent(arguments)},createListPanel:function(){ this.listPanel=Ext.create("Shopware.apps.ViisonShippingCommonOrder.view.BatchLabel.List",{ store:this.batchStore,labelStore:this.labelStore,flex:1,border:false,shadow:false,style:{ "background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none","-o-box-shadow":"none"}});return this.listPanel},createTopToolbar:function(){ var e=this;this.statusSelectionBox=Ext.create("Ext.form.field.ComboBox",{ queryMode:"local",store:e.orderStatusStore,displayField:"description",valueField:"id",helpText:e.snippets.newOrderStatus.helpText,autoSelect:true});this.statusSelectionBox.getStore().insert(0,{ id:100,description:e.snippets.newOrderStatus.defaultValue});this.statusSelectionBox.setValue(100);return Ext.create("Ext.toolbar.Toolbar",{ dock:"top",ui:"shopware-ui",margin:5,style:{ backgroundColor:"transparent"},items:[{ xtype:"label",text:e.snippets.newOrderStatus.label,width:120,style:{ fontWeight:"bold"}},this.statusSelectionBox,{ xtype:"tbspacer",width:50},{ xtype:"button",iconCls:"sprite-plus-circle-frame",text:e.snippets.buttons.confirmCreation,action:"confirmBatchLabelCreation",handler:function(){ e.fireEvent("confirmBatchLabelCreation",e.statusSelectionBox.getValue())}}]})},createBottomToolbar:function(){ var e=this;e.closeButton=Ext.create("Ext.button.Button",{ cls:"secondary",text:e.snippets.buttons.close,action:"closeBatchStatusWindow",handler:function(){ e.close()}});e.showJoinedLabelsButton=Ext.create("Ext.button.Button",{ cls:"primary",text:e.snippets.buttons.showJoinedLabels,action:"showJoinedBatchLabels",handler:function(){ e.fireEvent("showJoinedBatchLabels")}});e.showJoinedExportDocumentsButton=Ext.create("Ext.button.Button",{ cls:"primary",text:e.snippets.buttons.showJoinedExportDocuments,action:"showJoinedExportDocuments",handler:function(){ e.fireEvent("showJoinedExportDocuments")}});return Ext.create("Ext.toolbar.Toolbar",{ dock:"bottom",ui:"footer",border:false,shadow:false,padding:"5 0 5 0",style:{ "background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none","-o-box-shadow":"none"},items:["->",e.closeButton,e.showJoinedLabelsButton,e.showJoinedExportDocumentsButton]})}});
